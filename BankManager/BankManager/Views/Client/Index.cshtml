
@{
    ViewBag.Title = "Index";
}
<fieldset>
    <legend>Clients</legend>
    <p>
        <img src="../../Content/Images/edit.gif" />
        @Html.ActionLink("Create New", "../Client/Create")
    </p>

    <script type="text/javascript">
        function PrintElem(elem)
        {
            Popup($(elem).html());
        }

        function Popup(data)
        {
            var mywindow = window.open('', 'jqxgrid', 'height=400,width=600');
            mywindow.document.write('<html><head><title>jqxgrid</title>');
            mywindow.document.write('<link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />');
            mywindow.document.write('</head><body >');
            mywindow.document.write(data);
            mywindow.document.write('</body></html>');

            mywindow.document.close(); // necessary for IE >= 10
            mywindow.focus(); // necessary for IE >= 10

            mywindow.print();
            mywindow.close();

            return true;
        }

    </script>

    <p>
        <!--
        <img src="../../Content/Images/print.png" />
         @Html.ActionLink("Print", "Print")
        <a onclick="PrintElem('#jqxgrid')"><img src="../../Content/Images/print.png" /></a>
        -->
        <a href="javascript:window.print()"><img src="../../Content/Images/print.png" /></a>
    </p>

    <link href="@Url.Content("~/Content/themes/base/TableSky.css")" rel="stylesheet" type="text/css" />

    <div id="jqxgrid">
        <table class="ui-jqgrid-htable">
            <tr>
                <th>
                    Client Contact Number
                </th>
                <th>
                    ID
                </th>
                <th>
                    First name
                </th>
                <th>
                    Last name
                </th>
                <th>
                    Date Of Birth
                </th>
                <th>
                    Phone Number
                </th>
                <th>
                    Deposit
                </th>
                <th>
                    Status
                </th>
                <th>
                    Modify
                </th>
                <th>
                    Details
                </th>
                <th>
                    Delete
                </th>
            </tr>
            @foreach (var p in Model)
            {
                <tr>
                    <td>
                        @p.ClientContactNumber
                    </td>
                    <td>
                        @p.Id
                    </td>
                    <td>
                        @p.FirstName
                    </td>
                    <td>
                        @p.LastName
                    </td>
                    <td>
                        @p.DateOfBirth
                    </td>
                    <td>
                        @p.PhoneNumber
                    </td>
                    <td>
                        @if (p.Deposit)
                        {
                            <input type="checkbox" checked disabled="disabled" />
                        }
                        else
                        {
                            <input type="checkbox" disabled />
                        }

                    </td>
                    <td>
                        @p.ClientStatus.StatusName
                    </td>
                    <td>
                        <a href="Client/Edit/@p.Id"> <img src="../../Content/Images/editoriginal.gif" /> </a>
                    </td>
                    <td>
                        <a href="Client/Details/@p.Id"> <img src="../../Content/Images/Details.png" /> </a>
                    </td>
                    <td>
                        <a href="Client/Delete/@p.Id"> <img src="../../Content/Images/delete.gif" /> </a>
                    </td>
                </tr>
            }
        </table>
    </div>
    <br />
</fieldset>
